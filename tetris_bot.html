<!DOCTYPE html>

<head>
	<link rel="stylesheet" href="style.css">
</head>

<html>
<body bgcolor="#EEEEEE">
	<div class="mainDiv">		
	
		<div class="mainHead">
		<font style="font-size:40px;">Trevor Bivi</font><br>
			<table style="font-size:20px; width:100%;">
				<tr>
					<td>
						<font color="#777777">Software Engineering Student</font>
					</td>
					<td align=right>
						<a class="navButton" href="index.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)" >
							Home
						</a>
						<a class="navButton" style="cursor:pointer;background-color:#F0F0F0;" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)" onclick="toggleProj()" id="projButton" style="background-color:#FFFFFF;">
							Projects
						</a>
						<a class="navButton" href="about.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							About
						</a>
						<a class="navButton" href="contact.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							Contact
						</a>
						<a class="navButton"  href="https://github.com/TrevorBivi" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							GitHub
						</a>
					</td>
				</tr>			
			</table>
		</div>
		
		<div class="projDiv" id="projectDiv">
			<table class="projTable">
				<tr>
					<td style="width:33%">
						<a class="navButton" href="runescape_bot.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							RuneScape Bot API
						</a>
					</td>
					<td style="width:33%">
						<a class="navButton" href="garden_bot.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							Garden Watering System
						</a>
					</td>
					<td style="width:33%">
						<a class="navButton" href="tetris_bot.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							Tetris Bot
						</a>
					</td>
				</tr>
				<tr>
				    <td>
						<a class="navButton" href="steam_market_analyser.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							Steam Market Analyser
						</a>
					</td>
					<td>
						<a class="navButton" href="computer_game.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							3D Computer Game
						</a>
					</td>
					<td>
						<a class="navButton" href="phone_game.html" onmouseover="primaryEnter(this)" onmouseout="primaryOut(this)">
							Phone Game
						</a>
					</td>
				</tr>				
			</table>
		</div>
		
		
		<!--  title -->
		<div align="center" style="position:relative;">
			<div class="devDate">Mar 2017</div>
			<font size="+3" color="#6b92ff" >Tetris Bot</font><br>
		</div>
		
		<div style="margin:25px; margin-top:-5px;">
		<!-- main body -->
			
			<img src="code.jpg" height="20" style="margin-leftt:1px; margin-right:1px;">
			<font size="+2" color="#6b92ff">Languages used</font>
			<br>
			<font>&emsp;Python extended with C.</font>
			<br><br>
		
			<img src="question_mark.jpg" height="20" style="margin-left:8px;margin-right:8px;">	
			<font size="+2" color="#6b92ff" >What it is</font>
			<br>
			<font>
				&emsp;This is a program that automatically plays Tetris. It can play marathon 
				mode and battle two-person mode on tetrisfriends.com, trying to use only Tetris 
				(clearing four lines at once).
			</font>
			<br><br>
			
			<div align="center">
				<iframe height="250" src="https://www.youtube-nocookie.com/embed/mkOXuTkTAoY?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
				<br>
				<font color="777777"><i>A video of the bot reaching level 13 of 15 on marathon mode with one back-to-back Tetris combo</i></font>
			</div>
			<br>
			
			<img src="gear.jpg" height="20"  style="margin-left5px;margin-right:6px;">
			<font size="+2" color="#6b92ff" >How it works</font>
			<br>
			<font>
				&emsp;This bot reads pixel colours to capture board data. It then simulates all possible 
				moves in the coming four turns to find the next move for the best outcome. The best 
				outcome is determined by weighing in factors like the amount of Tetris that are performed, 
				the number of holes created or removed, and the sum squared error of the column heights. 
				A low sum squared error means there will be lots of ways to place blocks neatly in the 
				future. This part of the program was re-written in C and sped up the average time needed 
				to complete the simulations by over 100x. The bot then performs the chosen move and repeats.
			</font>
			<br><br>
			
			<img src="wrench.jpg" height="20"  style="margin-left:6px;margin-right:6px;">
			<font size="+2" color="#6b92ff" >Potential improvements</font>
			<br>
			<font>
				&emsp;This bot performs the simulations while the piece is already falling. It would be better 
				to make it start simulating the options for its next move while performing its current one 
				with multiprocessing. The biggest problem is the minimum time a key must be pressed for to
				be detected on this game client. Making the program work with a different version of Tetris would
				allow it to place blocks much faster and easily beat marathon mode.
			</font>
			<br>
		
		<!--   -->
		</div>
		<br>
		
	</div>
</body>
</html>

<script>
	function primaryOut(x){x.style.color = "#000000";}
	function primaryEnter(x){x.style.color = "#606060";}
	
	var projExpanded = true;
	function toggleProj(x){
		if(projExpanded){
			document.getElementById("projButton").style.backgroundColor = "#FFFFFF";
		}else{
			document.getElementById("projButton").style.backgroundColor = "#F0F0F0";
		}
		projExpanded = !projExpanded;
		document.getElementById("projectDiv").classList.toggle('collapsed');
	}
</script>
